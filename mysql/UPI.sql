-- phpMyAdmin SQL Dump
-- version 3.5.8.2
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Jun 10, 2014 at 11:46 PM
-- Server version: 5.1.73
-- PHP Version: 5.3.3

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `UPI`
--

-- --------------------------------------------------------

--
-- Table structure for table `flavor`
--

CREATE TABLE IF NOT EXISTS `flavor` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `template` text NOT NULL,
  `use_ks` tinyint(1) NOT NULL DEFAULT '0',
  `use_preseed` tinyint(1) NOT NULL DEFAULT '0',
  `use_bsd` tinyint(1) NOT NULL DEFAULT '0',
  `use_unattended` tinyint(1) NOT NULL DEFAULT '0',
  `use_xen` tinyint(1) NOT NULL DEFAULT '0',
  `config` text NOT NULL,
  `uefi` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 COMMENT='Holds the preseed/kickstart/pc-sysinstall templates' AUTO_INCREMENT=55 ;

--
-- Dumping data for table `flavor`
--

INSERT INTO `flavor` (`id`, `name`, `template`, `use_ks`, `use_preseed`, `use_bsd`, `use_unattended`, `use_xen`, `config`, `uefi`) VALUES
(1, 'esxi', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT esxi\r\nINCLUDE menu.colors\r\n\r\n\r\nLABEL esxi\r\nMENU label ESXi %version%\r\nKERNEL boot/esxi/%version%/iso/mboot.c32\r\nAPPEND -c boot/esxi/%version%/boot.cfg ks=http://%myip%/%mac%.cfg', 1, 0, 0, 0, 0, '# ESXi Kickstart file\r\n# Accept the VMware End User License Agreement\r\nvmaccepteula\r\n# Set the root password for the DCUI and Tech Support Mode\r\nrootpw %password%\r\ninstall --firstdisk --overwritevmfs\r\n\r\nclearpart --firstdisk --overwritevmfs\r\nnetwork --bootproto=static --device=vmnic0 --ip=%ip% --netmask=%netmask% --gateway=%gateway% --nameserver=%nameserver% --hostname=%hostname%\r\n\r\n%firstboot --interpreter=busybox\r\n\r\n# Enable SSH and the ESXi Shell\r\n\r\nvim-cmd hostsvc/enable_ssh\r\n\r\nvim-cmd hostsvc/start_ssh\r\n\r\nvim-cmd hostsvc/enable_esx_shell\r\n\r\nvim-cmd hostsvc/start_esx_shell\r\n', 'default=0\r\ntimeout=5\r\nsplashimage=(nd)/codero_splash.xpm.gz\r\nhiddenmenu\r\n\r\ntitle VMWare ESXi %version%\r\n        root (nd)\r\n        kernel boot/esxi/%version%/iso/mboot.c32 -c boot/esxi/%version%/boot.cfg ks=http://%myip%/%mac%.cfg\r\n		'),
(2, 'xenserver', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT xenserver\r\nINCLUDE menu.colors\r\n\r\nlabel xenserver\r\n   menu label Xen Server %version%\r\n   kernel mboot.c32\r\n   append boot/citrix/xenserver/%version%/iso/boot/xen.gz watchdog com1=115200,8n1i console=com1,tty --- boot/citrix/xenserver/%version%/iso/boot/vmlinuz root=/dev/ram0 console=tty0 console=ttyS0,115200n8 ramdisk_size=32758 answerfile=http://%myip%/%mac%.cfg install --- boot/citrix/xenserver/%version%/iso/install.img', 0, 0, 0, 0, 1, '<?xml version="1.0"?>\r\n	<installation mode="fresh" srtype="lvm">\r\n		<primary-disk>sda</primary-disk>\r\n		<keymap>us</keymap>\r\n		<root-password>%password%</root-password>\r\n		<source type="nfs">%myip%:/tftpboot/boot/citrix/xenserver/%version%/iso/</source>\r\n		<driver-source type="nfs">%myip%:/tftpboot/boot/citrix/xenserver/drivers/3ware/</driver-source>\r\n		<driver-source type="nfs">%myip%:/tftpboot/boot/citrix/xenserver/drivers/adaptec/</driver-source>\r\n		<admin-interface name="eth0" proto="static">\r\n		  <ip>%ip%</ip>\r\n		  <subnet-mask>%netmask%</subnet-mask>\r\n		  <gateway>%gateway%</gateway>\r\n		</admin-interface>\r\n		<timezone>America/Phoenix</timezone>\r\n		<nameserver>%dns1%</nameserver>\r\n		<nameserver>%dns2%</nameserver>\r\n		<hostname>%hostname%</hostname>\r\n		<time-config-method>ntp</time-config-method>\r\n		<ntp-server>0.pool.ntp.org</ntp-server>\r\n	</installation>', ''),
(3, 'centos', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT cent\r\nINCLUDE menu.colors\r\n\r\nLABEL cent\r\n    MENU LABEL CentOS %version%\r\n    kernel boot/centos/%version%/vmlinuz\r\n    append ksdevice=link load_ramdisk=1 initrd=boot/centos/%version%/initrd.img network ks=http://%myip%/%mac%.cfg %vnc%\r\n', 1, 0, 0, 0, 0, '#Updated 11/04/2013 -- chrisn\r\n#Added htop to post install\r\n\r\n# Firewall configuration\r\nfirewall --disabled\r\n# Install OS instead of upgrade\r\ninstall\r\n# Use http installation media (nfs for installing from ISO file)\r\nnfs --server=%myip% --dir=/tftpboot/boot/centos/%version%\r\n#url --url http://%myip%/install/centos/%version%/\r\n# Root password\r\nrootpw %password% \r\n# System authorization information\r\nauth  --useshadow\r\n# Use text install\r\ntext\r\nfirstboot --disable\r\n# System keyboard\r\nkeyboard us\r\n# System language\r\nlang en_US\r\n# SELinux configuration\r\nselinux --disabled\r\n# Installation logging level\r\nlogging --level=info\r\n# Shutdown after installation\r\npoweroff\r\n# System timezone\r\ntimezone America/Phoenix\r\n# Network information\r\n#network --device=eth1 --bootproto=dhcp\r\n\r\n# System bootloader configuration\r\nbootloader --location=mbr --driveorder=sda\r\n\r\n# Partition clearing information\r\nzerombr\r\n#ignoredisk --only-use=sda\r\n\r\n# Disk partitioning information\r\n%diskpart%\r\n\r\n%post\r\n#Run System updates\r\n/usr/bin/yum -y install yum-plugin-fastestmirror >> /root/post_install.log 2>&1\r\n/usr/bin/yum -y update >> /root/post_install.log 2>&1\r\n\r\n#Install ELrepo\r\nrpm --import http://elrepo.org/RPM-GPG-KEY-elrepo.org\r\nrpm -Uvh http://elrepo.org/elrepo-release-6-5.el6.elrepo.noarch.rpm\r\n\r\n#Install EPEL repo\r\nrpm -Uvh http://mirror.us.leaseweb.net/epel/6/i386/epel-release-6-8.noarch.rpm\r\n\r\n#Install unzip and htop\r\nyum install -y unzip htop\r\n\r\n#Download 3ware/Adaptec software for RAID adapters\r\nmkdir /root/3ware_tools\r\ncd /root/3ware_tools\r\nwget http://%myip%/3DM2_CLI-Linux_9.5.4_10.2.1.zip\r\ncd /root\r\nwget http://%myip%/arcconf\r\nchmod 744 /root/arcconf\r\n\r\ncat <<''EOF_DISABLE_SERVICES'' > /root/cpanel-disable-services\r\n#!/bin/bash\r\nfor service in \\\r\n   avahi-daemon \\\r\n   avahi-dnsconfd \\\r\n   bluetooth \\\r\n   capi \\\r\n   conman \\\r\n   cpus \\\r\n   irda \\\r\n   lisa \\\r\n   netplugd \\\r\n   ifplugd \\\r\n   NetworkManager \\\r\n   NetworkManagerDispatcher \\\r\n   netfs \\\r\n   netplugd \\\r\n   nfs \\\r\n   nfslock \\\r\n   nfsd \\\r\n   ncsd \\\r\n   oddjobd \\\r\n   openvpn \\\r\n   pcmcia \\\r\n   pcscd \\\r\n   portsentry \\\r\n   postfix \\\r\n   rawdevices \\\r\n   rdisc \\\r\n   rpcgssd \\\r\n   rpcidmapd \\\r\n   saslauthd \\\r\n   tcsd \\\r\n   vsftpd \\\r\n   winbind \\\r\n   wpa_supplicant \\\r\n   xfs \\\r\n   ypbind ;\r\n\r\n   do\r\n\r\n       echo "Disabling service: ${service}"\r\n       chkconfig ${service} off &>/dev/null\r\n       service ${service} stop &>/dev/null\r\ndone\r\nEOF_DISABLE_SERVICES\r\n\r\nchmod 100 /root/cpanel-disable-services\r\nsh /root/cpanel-disable-services &>/dev/null\r\nrm -f /root/cpanel-disable-services &>/dev/null\r\n\r\n/sbin/chkconfig ntpd on\r\n\r\n%controlpanel%\r\n%privatenet%\r\necho ''SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="%mac%", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"'' >> /etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''DEVICE=eth1'' > /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''BOOTPROTO=static'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''GATEWAY=%gateway%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''HOSTNAME=%hostname%'' > /etc/sysconfig/network; \\\r\necho ''NETWORKING=yes'' >> /etc/sysconfig/network; \\\r\necho ''HWADDR=%mac%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''IPADDR=%ip%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NETMASK=%netmask%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''ONBOOT=yes'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NM_CONTROLLED=no'' >> /
etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''%ip% %hostname%'' >> /etc/hosts; \\\r\necho ''nameserver 69.64.66.11'' > /etc/resolv.conf; \\\r\necho ''nameserver 69.64.66.10'' >> /etc/resolv.conf;\r\n%end\r\n\r\n%pre\r\n%pre%\r\n%end\r\n\r\n%packages\r\n@Core\r\n\r\n%end', 'default=0\r\ntimeout=5\r\nsplashimage=(nd)/codero_splash.xpm.gz\r\nhiddenmenu\r\n\r\ntitle CentOS %version%\r\n        root (nd)\r\n        kernel /boot/centos/%version%/vmlinuz ksdevice=link load_ramdisk=1 network ks=http://%myip%/%mac%.cfg\r\n        initrd /boot/centos/%version%/initrd.img\r\n		\r\n'),
(5, 'debian', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT debian\r\nINCLUDE menu.colors\r\n\r\nlabel debian\r\nmenu label Debian %version%\r\nkernel boot/debian/%version%/linux\r\nappend interface=auto auto=true priority=critical keymap=en preseed/url=http://%myip%/%mac%.cfg vga=normal initrd=boot/debian/%version%/initrd.gz -- quiet', 0, 1, 0, 0, 0, '# Debian Preseed (Wheezy)\r\nd-i debian-installer/locale string en_US\r\nd-i console-setup/ask_detect boolean false\r\nd-i console-setup/layoutcode string us\r\nd-i console-keymaps-at/keymap select American English\r\n\r\nd-i hw-detect/start_pcmcia false\r\n\r\nd-i netcfg/choose_interface select auto\r\nd-i netcfg/disable_dhcp boolean false\r\n\r\nd-i netcfg/get_hostname string unassigned-hostname\r\nd-i netcfg/get_hostname seen true\r\nd-i netcfg/get_domain string unassigned-domain\r\nd-i netcfg/get_domain seen true\r\n\r\nd-i mirror/protocol string http\r\nd-i mirror/country string manual\r\nd-i mirror/http/hostname string %myip%\r\nd-i mirror/http/directory string /mirrors/debian\r\nd-i mirror/http/proxy string\r\nd-i mirror/suite string wheezy\r\n\r\nd-i debian-installer/allow_unauthenticated string true\r\n\r\n#d-i base-installer/kernel/image string linux-server\r\n\r\nd-i clock-setup/utc boolean true\r\nd-i time/zone string US/Arizona\r\nd-i clock-setup/ntp boolean false\r\n\r\n# disk partition area\r\nd-i partman/filter_mounted boolean false\r\nd-i partman/unmount_active boolean false\r\nd-i partman-auto/automatically_partition select use_device\r\nd-i partman-auto/disk string /dev/sda\r\nd-i partman-auto/purge_lvm_from_device boolean true\r\nd-i partman-lvm/device_remove_lvm boolean true\r\nd-i partman-md/device_remove_md boolean true\r\nd-i partman-md/confirm_nooverwrite boolean true\r\nd-i partman-lvm/confirm boolean true\r\nd-i partman-lvm/confirm_nooverwrite boolean true\r\nd-i partman-auto/choose_recipe select custom\r\n\r\n%diskpart%\r\n\r\nd-i partman-partitioning/confirm_write_new_label boolean true\r\nd-i partman/choose_partition select finish\r\nd-i partman/confirm boolean true\r\nd-i partman/confirm_nooverwrite boolean true\r\n\r\nd-i passwd/make-user boolean false\r\nd-i passwd/root-login boolean true\r\nd-i passwd/root-password password %password%\r\nd-i passwd/root-password-again password %password%\r\nd-i user-setup/encrypt-home boolean false\r\nd-i user-setup/allow-password-weak boolean true\r\n\r\nd-i debian-installer/allow_unauthenticated boolean true\r\nd-i apt-setup/use_mirror boolean false\r\n#d-i pkgsel/upgrade select none\r\nd-i pkgsel/updatedb boolean true\r\ntasksel tasksel/first multiselect standard\r\nd-i pkgsel/include string openssh-server\r\npopularity-contest popularity-contest/participate boolean true\r\n\r\nd-i grub-installer/only_debian boolean true\r\nd-i grub-installer/with_other_os boolean true\r\n\r\nd-i finish-install/reboot_in_progress note\r\nd-i cdrom-detect/eject boolean false\r\nd-i debian-installer/exit/poweroff boolean true\r\n\r\nd-i preseed/late_command string \\\r\n%controlpanel%\r\nsed -i "s,%myip%/mirrors/debian,mirrors.xmission.com/debian,g" /target/etc/apt/sources.list; \\\r\nmv /lib/udev/rules.d/75-persistent-net-generator.rules /etc/udev/rules.d/75-persistent-net-generator.rules.saved; \\\r\necho ''SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="%mac%", ATTR{dev_id}=="0x0", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"'' >> /target/etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''auto lo'' > /etc/network/interfaces; \\\r\necho ''iface lo inet loopback'' >> /etc/network/interfaces; \\\r\necho ''auto eth0'' >> /etc/network/interfaces; \\\r\necho ''iface eth0 inet static'' >> /etc/network/interfaces; \\\r\necho ''address %ip%'' >> /etc/network/interfaces; \\\r\necho ''netmask %netmask%'' >> /etc/network/interfaces; \\\r\necho ''gateway %gateway%'' >> /etc/network/interfaces; \\\r\necho ''hwaddress %mac%'' >> /etc/network/interfaces; \\\r\necho ''dns-nameservers %nameserver%'' >> /etc/network/interfaces; \\\r\necho ''%hostname%'' > /target/etc/hostname; \\\r\necho ''%ip% %hostname% %
hostname%'' >> /target/etc/hosts; \\\r\necho ''nameserver 69.64.66.11'' > /target/etc/resolv.conf; \\\r\necho ''nameserver 69.64.66.10'' >> /target/etc/resolv.conf; \\\r\n%privatenet%\r\necho ''net.ipv6.conf.all.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.default.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.lo.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''deb http://mirrors.xmission.com/debian wheezy-backports main'' >> /target/etc/apt/sources.list; \\\r\nin-target apt-get -y update; \\\r\nin-target apt-get -y -t wheezy-backports install "linux-image-amd64";', ''),
(34, 'debian-6', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT debian\r\nINCLUDE menu.colors\r\n\r\nlabel debian\r\nmenu label Debian %version%\r\nkernel boot/debian/%version%/linux\r\nappend interface=auto auto=true priority=critical keymap=en preseed/url=http://%myip%/%mac%.cfg vga=normal initrd=boot/debian/%version%/initrd.gz -- quiet', 0, 1, 0, 0, 0, '# Debian Preseed\r\nd-i debian-installer/locale string en_US\r\nd-i console-setup/ask_detect boolean false\r\nd-i console-setup/layoutcode string us\r\nd-i console-keymaps-at/keymap select American English\r\n\r\nd-i hw-detect/start_pcmcia false\r\n\r\nd-i netcfg/choose_interface select auto\r\nd-i netcfg/disable_dhcp boolean false\r\n\r\nd-i netcfg/get_hostname string unassigned-hostname\r\nd-i netcfg/get_hostname seen true\r\nd-i netcfg/get_domain string unassigned-domain\r\nd-i netcfg/get_domain seen true\r\n\r\nd-i mirror/protocol string http\r\nd-i mirror/country string manual\r\nd-i mirror/http/hostname string %myip%\r\nd-i mirror/http/directory string /mirrors/debian\r\nd-i mirror/http/proxy string\r\nd-i mirror/suite string squeeze\r\n\r\nd-i debian-installer/allow_unauthenticated string true\r\n\r\n#d-i base-installer/kernel/image string linux-server\r\n\r\nd-i clock-setup/utc boolean true\r\nd-i time/zone string US/Arizona\r\nd-i clock-setup/ntp boolean false\r\n\r\n# disk partition area\r\nd-i partman/filter_mounted boolean false\r\nd-i partman/unmount_active boolean false\r\nd-i partman-auto/automatically_partition select use_device\r\nd-i partman-auto/disk string /dev/sda\r\nd-i partman-auto/purge_lvm_from_device boolean true\r\nd-i partman-lvm/device_remove_lvm boolean true\r\nd-i partman-md/device_remove_md boolean true\r\nd-i partman-md/confirm_nooverwrite boolean true\r\nd-i partman-lvm/confirm boolean true\r\nd-i partman-lvm/confirm_nooverwrite boolean true\r\nd-i partman-auto/choose_recipe select custom\r\n\r\n%diskpart%\r\n\r\nd-i partman-partitioning/confirm_write_new_label boolean true\r\nd-i partman/choose_partition select finish\r\nd-i partman/confirm boolean true\r\nd-i partman/confirm_nooverwrite boolean true\r\n\r\nd-i passwd/make-user boolean false\r\nd-i passwd/root-login boolean true\r\nd-i passwd/root-password password %password%\r\nd-i passwd/root-password-again password %password%\r\nd-i user-setup/encrypt-home boolean false\r\nd-i user-setup/allow-password-weak boolean true\r\n\r\nd-i debian-installer/allow_unauthenticated boolean true\r\nd-i apt-setup/use_mirror boolean false\r\n#d-i pkgsel/upgrade select none\r\nd-i pkgsel/updatedb boolean true\r\ntasksel tasksel/first multiselect standard\r\nd-i pkgsel/include string openssh-server\r\npopularity-contest popularity-contest/participate boolean true\r\n\r\nd-i grub-installer/only_debian boolean true\r\nd-i grub-installer/with_other_os boolean true\r\n\r\nd-i finish-install/reboot_in_progress note\r\nd-i cdrom-detect/eject boolean false\r\nd-i debian-installer/exit/poweroff boolean true\r\n\r\nd-i preseed/late_command string \\\r\n%controlpanel%\r\nsed -i "s,%myip%/mirrors/debian,mirrors.xmission.com/debian,g" /target/etc/apt/sources.list; \\\r\necho ''SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="%mac%", ATTR{dev_id}=="0x0", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"'' >> /target/etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''auto lo'' > /target/etc/network/interfaces; \\\r\necho ''iface lo inet loopback'' >> /target/etc/network/interfaces; \\\r\necho ''auto eth0'' >> /target/etc/network/interfaces; \\\r\necho ''iface eth0 inet static'' >> /target/etc/network/interfaces; \\\r\necho ''address %ip%'' >> /target/etc/network/interfaces; \\\r\necho ''netmask %netmask%'' >> /target/etc/network/interfaces; \\\r\necho ''gateway %gateway%'' >> /target/etc/network/interfaces; \\\r\necho ''hwaddress %mac%'' >> /target/etc/network/interfaces; \\\r\necho ''dns-nameservers %nameserver%'' >> /target/etc/network/interfaces; \\\r\necho ''%hostname%'' > /target/etc/hostname; \\\r\necho ''%ip% %hostname% %hostname%'' >> /target/etc/hosts; \\\r\necho ''nameserver 69.64.66.11'
' > /target/etc/resolv.conf; \\\r\necho ''nameserver 69.64.66.10'' >> /target/etc/resolv.conf; \\\r\n%privatenet%\r\necho ''net.ipv6.conf.all.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.default.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.lo.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''deb http://mirrors.xmission.com/debian squeeze-backports main'' >> /target/etc/apt/sources.list; \\\r\nin-target apt-get -y update; \\\r\nin-target apt-get -y -t squeeze-backports install "linux-image-amd64";', ''),
(4, 'ubuntu', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT ubuntu\r\nINCLUDE menu.colors\r\n\r\nlabel ubuntu\r\nmenu label Ubuntu %version%\r\nkernel boot/ubuntu/%version%/iso/install/netboot/ubuntu-installer/amd64/linux\r\nappend ks=http://%myip%/%mac%.cfg vga=normal priority=critical ksdevice=link initrd=boot/ubuntu/%version%/iso/install/netboot/ubuntu-installer/amd64/initrd.gz -- quiet', 1, 0, 0, 0, 0, '########### DEPRECIATED ##############\r\n## THIS IS A KICKSTART FOR CD INSTALLS ##\r\n########### DEPRECIATED ##############\r\n\r\n#platform=x86, AMD64, or Intel EM64T\r\n# Firewall configuration\r\nfirewall --disabled\r\n# Install OS instead of upgrade\r\ninstall\r\n# Use http installation media\r\nurl --url http://%myip%/install/ubuntu/%version%/iso/\r\n# Root password\r\nrootpw %password% \r\n#Initial user\r\nuser --disabled\r\n# System authorization information\r\nauth  --useshadow\r\n# Use text install\r\ntext\r\n# System keyboard\r\nkeyboard us\r\n# System language\r\nlang en_US\r\n# Shutdown after installation\r\npoweroff\r\n# System timezone\r\ntimezone America/Phoenix\r\n# Network information\r\n#network --device=link --bootproto=dhcp\r\n\r\n# System bootloader configuration\r\nbootloader --location=mbr\r\n\r\n# Partition clearing information\r\nzerombr\r\n\r\n# Disk partitioning information\r\n%diskpart%\r\n\r\n# Do not configure X Windows\r\nskipx\r\n\r\n%post\r\nmkdir /root/3ware_tools\r\ncd /root/3ware_tools\r\nwget http://%myip%/3DM2_CLI-Linux_9.5.4_10.2.1.zip\r\nwget http://%myip%/arcconf\r\nchmod 744 /root/arcconf\r\n\r\nsed -i ''s/%myip%\\/install\\/ubuntu\\/%version%\\/iso\\//us.archive.ubuntu.com\\/ubuntu\\//g'' /etc/apt/sources.list ; \\\r\necho ''auto eth1'' > /etc/network/interfaces ; \\\r\necho ''iface eth1 inet static'' >> /etc/network/interfaces ; \\\r\necho ''address %ip%'' >> /etc/network/interfaces ; \\\r\necho ''netmask %netmask%'' >> /etc/network/interfaces ; \\\r\necho ''gateway %gateway%'' >> /etc/network/interfaces ; \\\r\necho ''hwaddress %mac%'' >> /etc/network/interfaces ; \\\r\necho ''dns-nameservers %nameserver%'' >> /etc/network/interfaces ; \\\r\necho ''%hostname%'' > /etc/hostname ; \\\r\necho ''%ip% %hostname%'' >> /etc/hosts; \\\r\n%controlpanel%\r\n%privatenet%\r\necho ''SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="%mac%", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"'' >> /etc/udev/rules.d/99-persistent-net.rules; \\\r\nmv /lib/udev/rules.d/75-persistent-net-generator.rules /etc/udev/rules.d/75-persistent-net-generator.rules.saved ; \\\r\necho ''net.ipv6.conf.all.disable_ipv6 = 1'' >> /etc/sysctl.conf ; \\\r\necho ''net.ipv6.conf.default.disable_ipv6 = 1'' >> /etc/sysctl.conf ; \\\r\necho ''net.ipv6.conf.lo.disable_ipv6 = 1'' >> /etc/sysctl.conf ;\r\n%end\r\n\r\n%packages\r\n@ubuntu-minimal\r\nopenssh-server\r\nwget\r\nnano', 'default=0\r\ntimeout=5\r\nsplashimage=(nd)/codero_splash.xpm.gz\r\nhiddenmenu\r\n\r\ntitle Ubuntu %version%\r\nroot (nd)\r\nkernel /boot/ubuntu/%version%/iso/install/netboot/ubuntu-installer/amd64/linux ks=http://%myip%/%mac%.cfg vga=normal ksdevice=link initrd /boot/ubuntu/%version%/iso/install/netboot/ubuntu-installer/amd64/initrd.gz -- quiet\r\n'),
(6, 'oel', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT oel\r\nINCLUDE menu.colors\r\n\r\nLABEL oel\r\n    MENU LABEL Oracle Enterprise Linux %version%\r\n    kernel boot/oel/%version%/vmlinuz\r\n    append ksdevice=link load_ramdisk=1 initrd=boot/oel/%version%/initrd.img network ks=http://%myip%/%mac%.cfg', 1, 0, 0, 0, 0, '#platform=x86, AMD64, or Intel EM64T\r\n# Firewall configuration\r\nfirewall --disabled\r\n# Install OS instead of upgrade\r\ninstall\r\n# Use http installation media\r\nnfs --server=%myip% --dir=/tftpboot/boot/oel/%version%\r\n#url --url http://%myip%/install/oel/%version%/\r\n# Root password\r\nrootpw %password% \r\n# System authorization information\r\nauth  --useshadow\r\n# Use text install\r\ntext\r\nfirstboot --disable\r\n# System keyboard\r\nkeyboard us\r\n# System language\r\nlang en_US\r\n# SELinux configuration\r\nselinux --disabled\r\n# Installation logging level\r\nlogging --level=info\r\n# Shutdown after installation\r\npoweroff\r\n# System timezone\r\ntimezone America/Phoenix\r\n# Network information\r\n#network --device=eth1 --bootproto=dhcp\r\n\r\n# System bootloader configuration\r\nbootloader --location=mbr --driveorder=sda\r\n\r\n# Partition clearing information\r\nzerombr\r\n#ignoredisk --only-use=sda\r\n\r\n# Disk partitioning information\r\n%diskpart%\r\n\r\n%post\r\n/usr/bin/yum -y install yum-plugin-fastestmirror >> /root/post_install.log 2>&1\r\n/usr/bin/rpm -e kernel-uek-2.6.39-400.17.1.el6uek.x86_64 >> /root/post_install.log 2>&1\r\n/usr/bin/yum -y update >> /root/post_install.log 2>&1\r\nyum -y install unzip\r\nmkdir /root/3ware_tools\r\ncd /root/3ware_tools\r\nwget http://%myip%/3DM2_CLI-Linux_9.5.4_10.2.1.zip\r\n\r\ncat <<''EOF_DISABLE_SERVICES'' > /root/cpanel-disable-services\r\n#!/bin/bash\r\nfor service in \\\r\n   avahi-daemon \\\r\n   avahi-dnsconfd \\\r\n   bluetooth \\\r\n   capi \\\r\n   conman \\\r\n   cpus \\\r\n   irda \\\r\n   lisa \\\r\n   netplugd \\\r\n   ifplugd \\\r\n   NetworkManager \\\r\n   NetworkManagerDispatcher \\\r\n   netfs \\\r\n   netplugd \\\r\n   nfs \\\r\n   nfslock \\\r\n   nfsd \\\r\n   ncsd \\\r\n   oddjobd \\\r\n   openvpn \\\r\n   pcmcia \\\r\n   pcscd \\\r\n   portsentry \\\r\n   postfix \\\r\n   rawdevices \\\r\n   rdisc \\\r\n   rpcgssd \\\r\n   rpcidmapd \\\r\n   saslauthd \\\r\n   tcsd \\\r\n   vsftpd \\\r\n   winbind \\\r\n   wpa_supplicant \\\r\n   xfs \\\r\n   ypbind ;\r\n\r\n   do\r\n\r\n       echo "Disabling service: ${service}"\r\n       chkconfig ${service} off &>/dev/null\r\n       service ${service} stop &>/dev/null\r\ndone\r\nEOF_DISABLE_SERVICES\r\n\r\nchmod 100 /root/cpanel-disable-services\r\nsh /root/cpanel-disable-services &>/dev/null\r\nrm -f /root/cpanel-disable-services &>/dev/null\r\n\r\n/sbin/chkconfig ntpd on\r\n\r\n%controlpanel%\r\n%privatenet%\r\necho ''SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="%mac%", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"'' > /etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''DEVICE=eth1'' > /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''BOOTPROTO=static'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''GATEWAY=%gateway%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''HOSTNAME=%hostname%'' > /etc/sysconfig/network; \\\r\necho ''NETWORKING=yes'' >> /etc/sysconfig/network; \\\r\necho ''HWADDR=%mac%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''IPADDR=%ip%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NETMASK=%netmask%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''ONBOOT=yes'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NM_CONTROLLED=no'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''nameserver 69.64.66.11'' > /etc/resolv.conf; \\\r\necho ''nameserver 69.64.66.10'' >> /etc/resolv.conf;\r\n%end\r\n\r\n%packages\r\n@core\r\n\r\n%end', 'timeout=5\r\ndefault=0\r\nsplashimage=(nd)/codero_splash.xpm.gz\r\nhiddenmenu\r\n\r\ntitle Oracle Enterprise Linux %version%\r\n        root (nd)\r\n        kernel /boot/oel/%version%/vmlinuz ksdevice=link load_ramdisk=1 network 
ks=http://%myip%/%mac%.cfg\r\n        initrd /boot/oel/%version%/initrd.img\r\n'),
(9, 'oel5', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT oel\r\nINCLUDE menu.colors\r\n\r\nLABEL oel\r\n    MENU LABEL Oracle Enterprise Linux %version%\r\n    kernel boot/oel/%version%/vmlinuz\r\n    append load_ramdisk=1 initrd=boot/oel/%version%/initrd.img repo=nfsiso:%myip%:/tftpboot/boot/oel/%version%/', 1, 0, 0, 0, 0, '#platform=x86, AMD64, or Intel EM64T\r\n# Firewall configuration\r\nfirewall --disabled\r\n# Install OS instead of upgrade\r\ninstall\r\n# Use http installation media\r\n#nfs --server=%myip% --dir=/tftpboot/boot/oel/%version%\r\nurl --url http://%myip%/install/oel/%version%/iso/\r\n# Root password\r\nrootpw %password% \r\n# System authorization information\r\nauth  --useshadow\r\n# Use text install\r\ntext\r\nfirstboot --disable\r\n# System keyboard\r\nkeyboard us\r\n# System language\r\nlang en_US\r\n# SELinux configuration\r\nselinux --disabled\r\n# Installation logging level\r\nlogging --level=info\r\n# Shutdown after installation\r\nshutdown\r\n# System timezone\r\ntimezone America/Phoenix\r\n# Network information\r\n#network --device=eth1 --bootproto=dhcp\r\n\r\n# System bootloader configuration\r\nbootloader --location=mbr --driveorder=sda\r\n\r\n# Partition clearing information\r\nzerombr\r\n#ignoredisk --only-use=sda\r\n\r\n# Disk partitioning information\r\n%diskpart%\r\n\r\n%post\r\n/usr/bin/yum -y update >> /root/post_install.log 2>&1\r\n/sbin/chkconfig --del bluetooth\r\n/sbin/chkconfig --del cups\r\n/sbin/chkconfig ntpd on\r\n\r\n%controlpanel%\r\n%privatenet%\r\necho ''SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="%mac%", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"'' >> /etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''DEVICE=eth1'' > /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''BOOTPROTO=static'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''GATEWAY=%gateway%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''HOSTNAME=%hostname%'' > /etc/sysconfig/network; \\\r\necho ''NETWORKING=yes'' >> /etc/sysconfig/network; \\\r\necho ''HWADDR=%mac%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''IPADDR=%ip%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NETMASK=%netmask%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''ONBOOT=yes'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NM_CONTROLLED=no'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''%ip% %hostname%'' >> /etc/hosts; \\\r\necho ''nameserver 69.64.66.11'' > /etc/resolv.conf; \\\r\necho ''nameserver 69.64.66.10'' >> /etc/resolv.conf;\r\n%end\r\n\r\n%pre\r\n%pre%\r\n\r\n%packages\r\n@core\r\n', 'timeout=5\r\ndefault=0\r\nsplashimage=(nd)/codero_splash.xpm.gz\r\nhiddenmenu\r\n\r\ntitle Oracle Enterprise Linux %version%\r\n        root (nd)\r\n        kernel /boot/oel/%version%/vmlinuz ksdevice=link load_ramdisk=1 network ks=http://%myip%/%mac%.cfg\r\n        initrd /boot/oel/%version%/initrd.img\r\n'),
(10, 'cent5', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT cent\r\nINCLUDE menu.colors\r\n\r\nLABEL cent\r\n    MENU LABEL CentOS %version%\r\n    kernel boot/centos/%version%/vmlinuz\r\n    append ksdevice=%omac% load_ramdisk=1 initrd=boot/centos/%version%/initrd.img network ks=http://%myip%/%mac%.cfg %vnc%', 1, 0, 0, 0, 0, '# Firewall configuration\r\nfirewall --disabled\r\n# Install OS instead of upgrade\r\ninstall\r\n# Use http installation media\r\nurl --url http://%myip%/install/centos/%version%/iso/\r\n# Root password\r\nrootpw %password% \r\n# System authorization information\r\nauth  --useshadow\r\n# Use text install\r\ntext\r\nfirstboot --disable\r\n# System keyboard\r\nkeyboard us\r\n# System language\r\nlang en_US\r\n# SELinux configuration\r\nselinux --disabled\r\n# Installation logging level\r\nlogging --level=info\r\n# Shutdown after installation\r\npoweroff\r\n# System timezone\r\ntimezone America/Phoenix\r\n# Network information\r\n#network --device=eth1 --bootproto=dhcp\r\n\r\n#Load 3rd party drivers\r\n# Install Adaptec RAID controler drivers\r\ndriverdisk --source=http://%myip%/aacraid-1.2.1.30300-kernel2.6.18-371.el5-x86_64-dd.img\r\n\r\n# System bootloader configuration\r\nbootloader --location=mbr --driveorder=sda\r\n\r\n# Partition clearing information\r\nzerombr\r\n#ignoredisk --only-use=sda\r\n\r\n# Disk partitioning information\r\n%diskpart%\r\n\r\n%post\r\n#DT 031114\r\n#/usr/bin/yum -y install gcc ncurses-devel wget mlocate telnet yum-cron strace lm_sensors jwhois\r\n#/DT \r\n/usr/bin/yum -y install yum-plugin-fastestmirror >> /root/post_install.log 2>&1\r\n\r\n# Install ELRepo\r\nrpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\r\nrpm -Uvh http://www.elrepo.org/elrepo-release-5-4.el5.elrepo.noarch.rpm\r\n\r\n# Run system updates\r\n/usr/bin/yum -y update >> /root/post_install.log 2>&1\r\n/sbin/chkconfig --del bluetooth\r\n/sbin/chkconfig --del cups\r\n/sbin/chkconfig ntpd on\r\nyum install -y unzip\r\nmkdir /root/3ware_tools\r\ncd /root/3ware_tools\r\nwget http://%myip%/3DM2_CLI-Linux_9.5.4_10.2.1.zip\r\nwget http://%myip%/arcconf\r\nchmod 744 /root/arcconf\r\n\r\ncat <<''EOF_DISABLE_SERVICES'' > /root/cpanel-disable-services\r\n#!/bin/bash\r\nfor service in \\\r\n   avahi-daemon \\\r\n   avahi-dnsconfd \\\r\n   bluetooth \\\r\n   capi \\\r\n   conman \\\r\n   cpus \\\r\n   irda \\\r\n   lisa \\\r\n   netplugd \\\r\n   ifplugd \\\r\n   NetworkManager \\\r\n   NetworkManagerDispatcher \\\r\n   netfs \\\r\n   netplugd \\\r\n   nfs \\\r\n   nfslock \\\r\n   nfsd \\\r\n   ncsd \\\r\n   oddjobd \\\r\n   openvpn \\\r\n   pcmcia \\\r\n   pcscd \\\r\n   portsentry \\\r\n   postfix \\\r\n   rawdevices \\\r\n   rdisc \\\r\n   rpcgssd \\\r\n   rpcidmapd \\\r\n   saslauthd \\\r\n   tcsd \\\r\n   vsftpd \\\r\n   winbind \\\r\n   wpa_supplicant \\\r\n   xfs \\\r\n   ypbind ;\r\n\r\n   do\r\n\r\n       echo "Disabling service: ${service}"\r\n       chkconfig ${service} off &>/dev/null\r\n       service ${service} stop &>/dev/null\r\ndone\r\nEOF_DISABLE_SERVICES\r\n\r\nchmod 100 /root/cpanel-disable-services\r\nsh /root/cpanel-disable-services &>/dev/null\r\nrm -f /root/cpanel-disable-services &>/dev/null\r\n\r\n%controlpanel%\r\n%privatenet%\r\necho ''DEVICE=eth0'' > /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''BOOTPROTO=static'' >> /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''GATEWAY=%gateway%'' >> /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''HOSTNAME=%hostname%'' > /etc/sysconfig/network; \\\r\necho ''NETWORKING=yes'' >> /etc/sysconfig/network; \\\r\necho ''HWADDR=%mac%'' >> /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''IPADDR=%ip%'' >> /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''NETMASK=%netmask%'' >> /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''ONBOOT=yes'' >> /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''NM_CONTROLLED=no'' >> /etc/sysconfig/network-scripts/ifcfg-eth0; \\\r\necho ''%ip% %hostname%'' >> /etc/hosts; \\\r\necho ''nameserver 69.64.66.11'' > /etc/resolv.conf; \\\r\necho ''nameserver 69.64.66.10'' >> /
etc/resolv.conf;\r\n%end\r\n\r\n%pre\r\n%pre%\r\n\r\n%packages\r\n@Core', '');
INSERT INTO `flavor` (`id`, `name`, `template`, `use_ks`, `use_preseed`, `use_bsd`, `use_unattended`, `use_xen`, `config`, `uefi`) VALUES
(25, 'fedora', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT cent\r\nINCLUDE menu.colors\r\n\r\nLABEL cent\r\n    MENU LABEL Fedora %version%\r\n    kernel boot/fedora/%version%/vmlinuz\r\n    append ksdevice=link load_ramdisk=1 initrd=boot/fedora/%version%/initrd.img network ks=http://%myip%/%mac%.cfg %vnc%', 0, 0, 0, 0, 0, '#Updated 11/04/2013 -- chrisn\r\n#Added htop to post install\r\n\r\n# Firewall configuration\r\nfirewall --disabled\r\n# Install OS instead of upgrade\r\ninstall\r\n# Use http installation media (nfs for installing from ISO file)\r\nnfs --server=%myip% --dir=/tftpboot/boot/fedora/%version%\r\n# Root password\r\nrootpw %password% \r\n# System authorization information\r\nauth  --useshadow\r\n# Use text install\r\ntext\r\nfirstboot --disable\r\n# System keyboard\r\nkeyboard us\r\n# System language\r\nlang en_US\r\n# SELinux configuration\r\nselinux --disabled\r\n# Installation logging level\r\nlogging --level=info\r\n# Shutdown after installation\r\npoweroff\r\n# System timezone\r\ntimezone America/Phoenix\r\n# Network information\r\n#network --device=eth1 --bootproto=dhcp\r\n\r\n# System bootloader configuration\r\nbootloader --location=mbr --driveorder=sda\r\n\r\n# Partition clearing information\r\nzerombr\r\n#ignoredisk --only-use=sda\r\n\r\n# Disk partitioning information\r\n%diskpart%\r\n\r\n%post\r\n/usr/bin/yum -y install yum-plugin-fastestmirror >> /root/post_install.log 2>&1\r\n/usr/bin/yum -y update >> /root/post_install.log 2>&1\r\nyum install -y unzip\r\nmkdir /root/3ware_tools\r\ncd /root/3ware_tools\r\nwget http://%myip%/3DM2_CLI-Linux_9.5.4_10.2.1.zip\r\n\r\ncat <<''EOF_DISABLE_SERVICES'' > /root/cpanel-disable-services\r\n#!/bin/bash\r\nfor service in \\\r\n   avahi-daemon \\\r\n   avahi-dnsconfd \\\r\n   bluetooth \\\r\n   capi \\\r\n   conman \\\r\n   cpus \\\r\n   irda \\\r\n   lisa \\\r\n   netplugd \\\r\n   ifplugd \\\r\n   NetworkManager \\\r\n   NetworkManagerDispatcher \\\r\n   netfs \\\r\n   netplugd \\\r\n   nfs \\\r\n   nfslock \\\r\n   nfsd \\\r\n   ncsd \\\r\n   oddjobd \\\r\n   openvpn \\\r\n   pcmcia \\\r\n   pcscd \\\r\n   portsentry \\\r\n   postfix \\\r\n   rawdevices \\\r\n   rdisc \\\r\n   rpcgssd \\\r\n   rpcidmapd \\\r\n   saslauthd \\\r\n   tcsd \\\r\n   vsftpd \\\r\n   winbind \\\r\n   wpa_supplicant \\\r\n   xfs \\\r\n   ypbind ;\r\n\r\n   do\r\n\r\n       echo "Disabling service: ${service}"\r\n       chkconfig ${service} off &>/dev/null\r\n       service ${service} stop &>/dev/null\r\ndone\r\nEOF_DISABLE_SERVICES\r\n\r\nchmod 100 /root/cpanel-disable-services\r\nsh /root/cpanel-disable-services &>/dev/null\r\nrm -f /root/cpanel-disable-services &>/dev/null\r\n\r\n/sbin/chkconfig ntpd on\r\n\r\n%controlpanel%\r\n%privatenet%\r\necho ''SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="%mac%", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"'' >> /etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''DEVICE=eth1'' > /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''BOOTPROTO=static'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''GATEWAY=%gateway%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''HOSTNAME=%hostname%'' > /etc/sysconfig/network; \\\r\necho ''NETWORKING=yes'' >> /etc/sysconfig/network; \\\r\necho ''HWADDR=%mac%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''IPADDR=%ip%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NETMASK=%netmask%'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''ONBOOT=yes'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''NM_CONTROLLED=no'' >> /etc/sysconfig/network-scripts/ifcfg-eth1; \\\r\necho ''%ip% %hostname%'' >> /etc/hosts; \\\r\necho ''nameserver 69.64.66.11'' > /etc/resolv.conf; \\\r\necho ''nameserver 69.64.66.10'' >> /etc/resolv.conf;\r\n%end\r\n\r\n%pre\r\n%pre%\r\n%end\r\n\r\n%packages\r\n@Core\r\n\r\n%end', ''),
(23, 'ubuntu-preseed', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT ubuntu\r\nINCLUDE menu.colors\r\n\r\nlabel ubuntu\r\nmenu label Ubuntu %version%\r\nkernel boot/ubuntu/%version%/linux\r\nappend preseed/url=http://%myip%/%mac%.cfg vga=normal interface=auto auto=true priority=critical keymap=en initrd=boot/ubuntu/%version%/initrd.gz -- quiet', 0, 1, 0, 0, 0, '# Ubuntu Preseed\r\n# Updated: 03/21/2014 by chrisn\r\n# Local Ubuntu mirror install\r\n\r\nd-i debian-installer/locale string en_US\r\nd-i console-setup/ask_detect boolean false\r\nd-i console-setup/layoutcode string us\r\nd-i console-keymaps-at/keymap select American English\r\n\r\nd-i hw-detect/start_pcmcia false\r\n\r\nd-i netcfg/choose_interface select auto\r\nd-i netcfg/disable_dhcp boolean false\r\n\r\nd-i netcfg/get_hostname string unassigned-hostname\r\nd-i netcfg/get_hostname seen true\r\nd-i netcfg/get_domain string unassigned-domain\r\nd-i netcfg/get_domain seen true\r\n\r\nd-i mirror/protocol string http\r\nd-i mirror/country string manual\r\nd-i mirror/http/hostname string %myip%\r\nd-i mirror/http/directory string /mirrors/ubuntu\r\nd-i mirror/http/proxy string\r\n#d-i mirror/http/mirror select us.archive.ubuntu.com\r\n\r\nd-i mirror/suite string %suite%\r\n\r\nd-i clock-setup/utc boolean true\r\nd-i time/zone string US/Arizona\r\nd-i clock-setup/ntp boolean true\r\n\r\nd-i base-installer/kernel/image string linux-server\r\n\r\n# Alternatively, to skip creation of a normal user account.\r\nd-i passwd/make-user boolean false\r\n\r\nd-i clock-setup/utc boolean true\r\nd-i time/zone string US/Arizona\r\nd-i clock-setup/ntp boolean false\r\n\r\n# disk partition area\r\nd-i partman/filter_mounted boolean false\r\nd-i partman/unmount_active boolean false\r\nd-i partman-auto/automatically_partition select use_device\r\nd-i partman-auto/disk string /dev/sda\r\nd-i partman-auto/purge_lvm_from_device boolean true\r\nd-i partman-lvm/device_remove_lvm boolean true\r\nd-i partman-md/device_remove_md boolean true\r\nd-i partman-md/confirm_nooverwrite boolean true\r\nd-i partman-lvm/confirm boolean true\r\nd-i partman-lvm/confirm_nooverwrite boolean true\r\nd-i partman-auto/choose_recipe select custom\r\n\r\n%diskpart%\r\n\r\nd-i partman/confirm boolean true\r\nd-i partman-partitioning/confirm_write_new_label boolean true\r\nd-i partman/choose_partition select finish\r\nd-i partman/confirm_nooverwrite boolean true\r\n\r\nd-i passwd/make-user boolean false\r\nd-i passwd/root-login boolean true\r\nd-i passwd/root-password password %password%\r\nd-i passwd/root-password-again password %password%\r\nd-i user-setup/encrypt-home boolean false\r\nd-i user-setup/allow-password-weak boolean true\r\n\r\nd-i debian-installer/allow_unauthenticated boolean true\r\n#d-i apt-setup/use_mirror boolean false\r\nd-i pkgsel/upgrade select none\r\nd-i pkgsel/updatedb boolean true\r\ntasksel tasksel/first multiselect standard\r\nd-i pkgsel/include string openssh-server\r\npopularity-contest popularity-contest/participate boolean true\r\n\r\nd-i grub-installer/only_debian boolean true\r\nd-i grub-installer/with_other_os boolean true\r\n\r\nd-i finish-install/reboot_in_progress note\r\nd-i cdrom-detect/eject boolean false\r\nd-i debian-installer/exit/poweroff boolean true\r\n\r\nd-i preseed/late_command string \\\r\n%controlpanel%\r\nin-target sed -i "s,%myip%/mirrors/ubuntu,archive.ubuntu.com/ubuntu,g" /etc/apt/sources.list; \\\r\necho ''# Fixes reboot issue - blakem'' >> /target/etc/modprobe.d/blacklist.conf; \\\r\necho ''blacklist mei'' >> /target/etc/modprobe.d/blacklist.conf; \\\r\necho ''auto lo'' > /target/etc/network/interfaces; \\\r\necho ''iface lo inet loopback'' >> /target/etc/network/interfaces; \\\r\necho ''auto eth0'' >> /target/etc/network/interfaces; \\\r\necho ''iface eth0 inet static'' >> /target/etc/network/interfaces; \\\r\necho ''address %ip%'' >> /target/etc/network/interfaces; \\\r\necho ''netmask %netmask%'' >> /target/etc/network/interfaces; \\\r\necho ''gateway %gateway%'' >> /target/etc/network/interfaces; \\\r\necho ''hwaddress %mac%'' >> /target/etc/
network/interfaces; \\\r\necho ''dns-nameservers %nameserver%'' >> /target/etc/network/interfaces; \\\r\necho ''%hostname%'' > /target/etc/hostname; \\\r\necho ''%ip% %hostname%'' >> /target/etc/hosts; \\\r\n%privatenet%\r\necho ''SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="%mac%", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"'' >> /target/etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''net.ipv6.conf.all.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.default.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.lo.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\nin-target apt-get update; \\\r\nin-target apt-get -y install linux-generic-lts-raring; \\\r\nin-target apt-get -y upgrade; \\\r\nin-target sed -i ''s,GRUB_CMDLINE_LINUX_DEFAULT="splash quiet",GRUB_CMDLINE_LINUX_DEFAULT="",g'' /etc/default/grub; \\\r\nin-target update-grub; \\\r\ncp /target/etc/network/interfaces /etc/network/interfaces;', ''),
(51, 'ubuntu-preseed2', 'NOESCAPE 1\r\ndefault vesamenu.c32\r\nONTIMEOUT ubuntu\r\nINCLUDE menu.colors\r\n\r\nlabel ubuntu\r\nmenu label Ubuntu %version%\r\nkernel boot/ubuntu/%version%/linux\r\nappend preseed/url=http://%myip%/%mac%.cfg vga=normal interface=auto auto=true priority=critical keymap=en initrd=boot/ubuntu/%version%/initrd.gz -- quiet', 0, 1, 0, 0, 0, '# Ubuntu Preseed\r\n# Updated: 04/18/2014 by chrisn\r\n# Local Ubuntu mirror install\r\n# Updated for for 14.04 release\r\n\r\nd-i debian-installer/locale string en_US\r\nd-i console-setup/ask_detect boolean false\r\nd-i console-setup/layoutcode string us\r\nd-i console-keymaps-at/keymap select American English\r\n\r\nd-i hw-detect/start_pcmcia false\r\n\r\nd-i netcfg/choose_interface select auto\r\nd-i netcfg/disable_dhcp boolean false\r\n\r\nd-i netcfg/get_hostname string unassigned-hostname\r\nd-i netcfg/get_hostname seen true\r\nd-i netcfg/get_domain string unassigned-domain\r\nd-i netcfg/get_domain seen true\r\n\r\nd-i mirror/protocol string http\r\nd-i mirror/country string manual\r\nd-i mirror/http/hostname string %myip%\r\nd-i mirror/http/directory string /mirrors/ubuntu\r\nd-i mirror/http/proxy string\r\n#d-i mirror/http/mirror select us.archive.ubuntu.com\r\n\r\nd-i mirror/suite string %suite%\r\n\r\nd-i clock-setup/utc boolean true\r\nd-i time/zone string US/Arizona\r\nd-i clock-setup/ntp boolean true\r\n\r\nd-i base-installer/kernel/image string linux-server\r\n\r\n# Alternatively, to skip creation of a normal user account.\r\nd-i passwd/make-user boolean false\r\n\r\nd-i clock-setup/utc boolean true\r\nd-i time/zone string US/Arizona\r\nd-i clock-setup/ntp boolean false\r\n\r\n# disk partition area\r\nd-i partman/filter_mounted boolean false\r\nd-i partman/unmount_active boolean false\r\nd-i partman-auto/automatically_partition select use_device\r\nd-i partman-auto/disk string /dev/sda\r\nd-i partman-auto/purge_lvm_from_device boolean true\r\nd-i partman-lvm/device_remove_lvm boolean true\r\nd-i partman-md/device_remove_md boolean true\r\nd-i partman-md/confirm_nooverwrite boolean true\r\nd-i partman-lvm/confirm boolean true\r\nd-i partman-lvm/confirm_nooverwrite boolean true\r\nd-i partman-auto/choose_recipe select custom\r\n\r\n%diskpart%\r\n\r\nd-i partman/confirm boolean true\r\nd-i partman-partitioning/confirm_write_new_label boolean true\r\nd-i partman/choose_partition select finish\r\nd-i partman/confirm_nooverwrite boolean true\r\n\r\nd-i passwd/make-user boolean false\r\nd-i passwd/root-login boolean true\r\nd-i passwd/root-password password %password%\r\nd-i passwd/root-password-again password %password%\r\nd-i user-setup/encrypt-home boolean false\r\nd-i user-setup/allow-password-weak boolean true\r\n\r\nd-i debian-installer/allow_unauthenticated boolean true\r\n#d-i apt-setup/use_mirror boolean false\r\nd-i pkgsel/upgrade select none\r\nd-i pkgsel/updatedb boolean true\r\ntasksel tasksel/first multiselect standard\r\nd-i pkgsel/include string openssh-server\r\npopularity-contest popularity-contest/participate boolean true\r\n\r\nd-i grub-installer/only_debian boolean true\r\nd-i grub-installer/with_other_os boolean true\r\n\r\nd-i finish-install/reboot_in_progress note\r\nd-i cdrom-detect/eject boolean false\r\nd-i debian-installer/exit/poweroff boolean true\r\n\r\nd-i preseed/late_command string \\\r\n%controlpanel%\r\nin-target sed -i "s,%myip%/mirrors/ubuntu,archive.ubuntu.com/ubuntu,g" /etc/apt/sources.list; \\\r\necho ''auto lo'' > /target/etc/network/interfaces; \\\r\necho ''iface lo inet loopback'' >> /target/etc/network/interfaces; \\\r\necho ''auto em1'' >> /target/etc/network/interfaces; \\\r\necho ''iface em1 inet static'' >> /target/etc/network/interfaces; \\\r\necho ''address %ip%'' >> /target/etc/network/interfaces; \\\r\necho ''netmask %netmask%'' >> /target/etc/network/interfaces; \\\r\necho ''gateway %gateway%'' >> /target/etc/network/interfaces; \\\r\necho ''hwaddress %mac%'' >> /target/etc/network/interfaces; \\\r\necho ''dns-nameservers %nameserver%'' >> /target/etc/network/interfaces; \\\r\necho ''%hostname%'' > /
target/etc/hostname; \\\r\necho ''%ip% %hostname%'' >> /target/etc/hosts; \\\r\n%privatenet%\r\necho ''SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="%mac%", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"'' >> /target/etc/udev/rules.d/99-persistent-net.rules; \\\r\necho ''net.ipv6.conf.all.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.default.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\necho ''net.ipv6.conf.lo.disable_ipv6 = 1'' >> /target/etc/sysctl.conf; \\\r\nin-target sed -i ''s,GRUB_CMDLINE_LINUX_DEFAULT="splash quiet",GRUB_CMDLINE_LINUX_DEFAULT="",g'' /etc/default/grub; \\\r\nin-target update-grub; \\\r\ncp /target/etc/network/interfaces /etc/network/interfaces; \\\r\nin-target sed -i "s,PermitRootLogin without-password,PermitRootLogin yes,g" /etc/ssh/sshd_config;', '');

-- --------------------------------------------------------

--
-- Table structure for table `os`
--

CREATE TABLE IF NOT EXISTS `os` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `version` varchar(255) NOT NULL,
  `location` varchar(255) NOT NULL,
  `wim` varchar(255) NOT NULL,
  `can_plesk` tinyint(1) NOT NULL DEFAULT '0',
  `can_cpanel` tinyint(1) NOT NULL DEFAULT '0',
  `flavor` varchar(255) NOT NULL COMMENT 'template pointer',
  `custom` tinyint(1) NOT NULL DEFAULT '0',
  `comment` text NOT NULL,
  `trashed` tinyint(1) NOT NULL DEFAULT '0',
  `trashed_time` int(255) NOT NULL COMMENT 'Unix Timestamp of when item was "trashed"',
  `clone` tinyint(1) NOT NULL COMMENT 'Cloned entry?',
  `parent` int(11) NOT NULL COMMENT 'ID of parent of clone',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 COMMENT='Holds the available OS list' AUTO_INCREMENT=160 ;

-- --------------------------------------------------------

--
-- Table structure for table `panels`
--

CREATE TABLE IF NOT EXISTS `panels` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `script` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=5 ;

--
-- Dumping data for table `panels`
--

INSERT INTO `panels` (`id`, `name`, `script`) VALUES
(1, 'plesk', 'cat <<EOM >> /root/plesk-installer.sh\r\n#!/bin/bash\r\nmv /etc/motd /etc/motd.orig\r\necho "The Plesk installation is currently taking place.\r\nPlease be patient and do not reboot the server.\r\n\r\nTo monitor the installation process please run:\r\ntail -f /var/log/plesk/install/autoinstaller3.log\r\n" > /etc/motd\r\n\r\ncd /root\r\nwget http://autoinstall.plesk.com/one-click-installer \r\nsh one-click-installer\r\nrm -f /etc/motd\r\nmv /etc/motd.orig /etc/motd\r\nEOM\r\n\r\nchmod 755 /root/plesk-installer.sh\r\n\r\n# Script starter\r\ncat <<EOF_STARTER >> /etc/rc.local\r\nif [ ! -d "/usr/local/psa"  ]; then\r\n	nohup /root/plesk-installer.sh & > /dev/null\r\nfi\r\n\r\nEOF_STARTER'),
(3, 'plesk-win', '                <SynchronousCommand wcm:action=''add''>\r\n                    <CommandLine>cmd /c c:\\Tools\\pleskinstall.bat</CommandLine>\r\n                    <Description>Install Plesk</Description>\r\n                    <Order>33</Order>\r\n                </SynchronousCommand>		'),
(2, 'cpanel', 'cat <<EOM >> /root/cpanel-installer.sh\r\n#!/bin/bash\r\nmv /etc/motd /etc/motd.orig\r\necho "The cPanel installation is currently taking place.\r\nPlease be patient and do not reboot the server.\r\n\r\nTo monitor the installation process please run:\r\ntail -f /root/cpanel-install-autoinstaller.log\r\n" > /etc/motd\r\n\r\ncd /root\r\nwget http://httpupdate.cpanel.net/latest\r\nsh latest --force > /root/cpanel-install-autoinstaller.log\r\n# rm -f /root/cpanel-installer.sh\r\nrm -f /etc/motd\r\nmv /etc/motd.orig /etc/motd\r\n\r\n# Add support IPs to cPhulk Whitelist\r\n/scripts/cphulkdwhitelist 68.168.103.207\r\n/scripts/cphulkdwhitelist 64.150.179.6\r\n/scripts/cphulkdwhitelist 64.150.179.23\r\n/scripts/cphulkdwhitelist 209.33.144.2\r\n/scripts/cphulkdwhitelist 209.92.131.128/28\r\n/scripts/cphulkdwhitelist 66.226.79.7\r\n\r\nEOM\r\n\r\nchmod 755 /root/cpanel-installer.sh\r\n\r\n# Script starter\r\ncat <<EOF_STARTER >> /etc/rc.local\r\nif [ ! -d "/var/cpanel"  ]; then\r\n	nohup /root/cpanel-installer.sh & > /dev/null\r\nfi\r\n\r\nEOF_STARTER'),
(4, 'plesk-deb', 'in-target wget -O /root/plesk-installer.sh http://%myip%/plesk-installer.sh; \\\r\nin-target /bin/bash -x chmod 755 /root/plesk-installer.sh; \\\r\nin-target /bin/bash -x ln -s /root/plesk-installer.sh /etc/rc2.d/S99install; \\');


-- --------------------------------------------------------

--
-- Table structure for table `stats`
--

CREATE TABLE IF NOT EXISTS `stats` (
  `id` int(255) NOT NULL AUTO_INCREMENT,
  `os` varchar(255) NOT NULL,
  `installed` int(11) NOT NULL,
  `last_installed` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `os` (`os`),
  KEY `id` (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=70 ;

-- --------------------------------------------------------

--
-- Table structure for table `suites`
--

CREATE TABLE IF NOT EXISTS `suites` (
  `distro` varchar(255) NOT NULL,
  `version` varchar(10) NOT NULL,
  `name` varchar(255) NOT NULL,
  `index` int(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`index`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=9 ;

--
-- Dumping data for table `suites`
--

INSERT INTO `suites` (`distro`, `version`, `name`, `index`) VALUES
('debian', '7', 'wheezy', 1),
('debian', '6', 'squeeze', 2),
('ubuntu', '14.04', 'trusty', 3),
('ubuntu', '12.04', 'precise', 4),
('ubuntu', '13.10', 'saucy', 5),
('ubuntu', '13.04', 'raring', 6),
('ubuntu', '12.10', 'quantal', 7),
('ubuntu', '10.04', 'lucid', 8);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
